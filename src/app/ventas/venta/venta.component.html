
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *  * -->
<!-- * * * * * * * * * * * JERSON GALVEZ ENSUNCHO * * * * * * * * * * * -->
<!-- ******* * * * * * * * PROYECTO INVENTSOFT * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->

<div class="min-height-300 bg-default position-absolute w-100"></div>
<app-menu></app-menu>
  <main class="main-content position-relative border-radius-lg">
    <div class="container-fluid py-6">
      <div class="row ">
        <div class="card">
         <br>
         <br>
         <br>
          <div class="container-fluid">
            <div class="row">
              <div class="col-md-12">
                <nav aria-label="breadcrumb">
                  <ol class="breadcrumb bg-transparent mb-0 pb-0 pt-1 px-0 me-sm-6 me-5">
                    <li class="breadcrumb-item text-sm"><a class="opacity-5 " href="javascript:;">InventSoft</a></li>
                    <li class="breadcrumb-item text-sm  active" aria-current="page">Ventas</li>
                  </ol>
                </nav>
              </div>
            </div>
            <br>
            <div class="row">
              <div class="col-md-4">
                <div class="card card-pricing">
                    <div
                      class="card-header bg-gradient-dark text-center pt-4 pb-5 position-relative"
                    >
                      <div class="z-index-1 position-relative">
                        <h6 class="text-white">TOTAL VENTA </h6>
                        <h2 class="text-white mt-2 mb-0" id="ventaa">
                          <small id="compracero" class="text-white">$0 </small>
                          <small class="total-compra text-white" id="total-compra" hidden></small>
                        </h2>
                        <h6 class="text-white">TOTAL DEVOLVER</h6>
                      <div id="volver">
                        <h3 class="text-white" id="devolver">$0</h3>
                      </div>
                    </div>
                  </div>
                  <div class="position-relative mt-n5" style="height: 50px;">
                    <div class="position-absolute w-100">
                      <svg class="waves waves-sm" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 40" preserveAspectRatio="none" shape-rendering="auto">
                        <defs>
                          <path id="card-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"></path>
                        </defs>
                        <g class="moving-waves">
                          <use xlink:href="#card-wave" x="48" y="-1" fill="rgba(255,255,255,0.30"></use>
                          <use xlink:href="#card-wave" x="48" y="3" fill="rgba(255,255,255,0.35)"></use>
                          <use xlink:href="#card-wave" x="48" y="5" fill="rgba(255,255,255,0.25)"></use>
                          <use xlink:href="#card-wave" x="48" y="8" fill="rgba(255,255,255,0.20)"></use>
                          <use xlink:href="#card-wave" x="48" y="13" fill="rgba(255,255,255,0.15)"></use>
                          <use xlink:href="#card-wave" x="48" y="16" fill="rgba(255,255,255,0.99)"></use>
                        </g>
                      </svg>
                    </div>
                    <br>
                    <div class="card-body">
                      <div class="row">
                        <div class="col-md-6">
                          <label>Documento</label>
                          <input type="text" class="form-control">
                        </div>
                        <div class="col-md-6">
                          <label>Tipo Pago</label>
                          <select
                            class="form-control"
                          >
                            <option value="EFECTIVO">EFECTIVO</option>
                            <option value="NEQUI">NEQUI</option>
                            <option value="BANCOLOMB">BANCOLOMBIA</option>
                          </select>
                        </div>
                      </div>
                      <div class="row mt-2">
                        <div class="col-md-6">
                          <label>Sede</label>
                          <input type="text" class="form-control">
                        </div>
                        <div class="col-md-6">
                          <label>No Venta</label>
                          <input type="text" class="form-control">
                        </div>
                      </div>
                      <div class="row mt-2">
                        <div class="col-md-6">
                          <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="fcustomCheck1">
                            <label>
                              Devoluci√≥n
                            </label>
                          </div>
                          <div class="form-check">
                            <input
                              class="form-check-input"
                              type="checkbox"
                              name="checkrecibocaja"
                              id="checkrecibocaja"
                            >
                              <label>Recibo de Caja?</label>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <label>Fecha</label>
                            <input type="text" class="form-control">
                          </div>
                        </div>
                    </div>
                </div>
            </div>
              </div>
              <div class="col-md-7 offset-md-1">
                <div class="row">
                  <div class="col-md-3">
                    <label>Codigo de Barras</label>
                    <input type="text" class="form-control form-control-sm">
                  </div>
                  <div class="col-md-3">
                    <label>Precio</label>
                    <input type="text" class="form-control form-control-sm">
                  </div>
                  <div class="col-md-3">
                    <label>Nombre</label>
                    <input type="text" class="form-control form-control-sm">
                  </div>
                  <div class="col-md-2">
                    <label>%</label>
                    <input type="text" class="form-control form-control-sm">
                  </div>
                  <div class="col-md-1 mt-4">
                    <button
                      class="btn btn-danger btn-xs mt-1"
                      data-bs-toggle="modal"
                      data-bs-target="#modalproductos"
                    > 
                      <i class="fas fa-search"></i>
                    </button>
                  </div>
                </div>
                <hr class="text-success" class="height: 10px !important;">
                <div class="row">
                  <div class="col-md-12">
                    <ul class="list-group list-group-flush list-group-no-gutters mb-5">
                      <li class="list-group-item">
                        <div class="d-flex">
                          <div class="flex-shrink-0">
                            <img class="avatar avatar-xl avatar-4x3" src="https://htmlstream.com/preview/front-v4.2/html/assets/img/320x320/img2.jpg" alt="Image Description">
                          </div>
                          <div class="flex-grow-1 ms-3">
                            <div class="row">
                              <div class="col-sm-6 mb-3 mb-sm-0">
                                <h5><a class="text-dark" href="#">Originals national backpack</a></h5>

                                <div class="d-block d-sm-none">
                                  <h5 class="mb-1">$29.99</h5>
                                </div>

                                <div class="d-grid gap-1">
                                  <div class="text-body">
                                    <span class="small">Gender:</span>
                                    <span class="fw-semi-bold small">Men</span>
                                  </div>
                                </div>
                              </div>
                              <div class="col-md-3">
                                <div class="row">
                                  <div class="col-auto">
                                  <input type="number" class="form-control">
                                  </div>
                                </div>
                              </div>
                              <div class="col-4 col-sm-2 d-none d-sm-inline-block text-right">
                                <div class="row">
                                  <span class="h5 d-block mb-1">$29.99</span>
                                  <a class="link-sm link-secondary small" href="javascript:;">
                                    <i class="fas fa-trash me-1 text-danger"></i> Eliminar
                                  </a>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </li>

                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
 </main>
 <!--TABLA DE PRODUCTOS -->
 <!-- Modal -->
<div class="modal fade" id="modalproductos" tabindex="-1" aria-labelledby="modalproductosLabel" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="modalproductosLabel">PRODUCTOS DE LA TIENDA</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <p-table
                  #inventario
                  [rows]="10"
                  [value]="getProducto"
                  [paginator]="true"
                  [globalFilterFields]="['nombre', 'getProducto.nombre', 'representative.name', 'status']"
                  [tableStyle]="{ 'min-width': '75rem' }"
                  [rowHover]="true"
                  dataKey="id"
                  currentPageReportTemplate="Mostrando del {first} al {last} de {totalRecords} entradas"
                >
                <ng-template pTemplate="caption">
                  <div class="flex align-items-center justify-content-between">
                    <span class="p-input-icon-left">
                      <i class="pi pi-search"></i>
                      <input
                        pInputText
                        type="text"
                        class="form-control"
                        (input)="inventario.filterGlobal($any($event.target).value, 'contains')"
                        placeholder="Buscar..."
                      />
                    </span>
                  </div>
                </ng-template>
                <ng-template pTemplate="header">
                  <tr>
                    <th class=" text-white text-xs bg-default text-center"></th>
                    <th class=" text-white text-xs bg-default">DATOS DEL PRODUCTO</th>
                    <th class=" text-white text-xs bg-default">VALOR</th>
                    <th class=" text-white text-xs bg-default">STOCK</th>
                    <th class=" text-white text-xs bg-default">FECHA</th>
                    <th class=" text-white text-xs bg-default">ECOMMERCE?</th>
                    <th class=" text-white text-xs bg-default">ESTADO</th>
                  </tr>
                </ng-template>
                <ng-template pTemplate="body" let-getProducto>
                  <tr>
                    <td>
                      <a
                        class="badge bg-success"
                        title="Actualizar productos"
                        data-bs-toggle="modal"
                        
                      >
                        <i class="fas fa-check fa-xs text-white"></i>
                      </a>
                    </td>
                    <td >
                      <div class="d-flex px-2 py-1">
                        <div>
                          <img
                            [src]="getProducto.url_imagen"
                            class="avatar avatar-sm me-3"
                          >
                        </div>
                        <div class="d-flex flex-column justify-content-center">
                          <p class="mb-0 text-xs text-uppercase"> {{ getProducto.nombre + ' - ' + getProducto.codigo }}</p>
                          <p class="text-xs text-danger mb-0 text-uppercase">{{ getProducto.categorias }}</p>
                        </div>
                      </div>
                    </td>
                    <td class="text-xs text-uppercase">  ${{ getProducto.precio.toLocaleString(undefined, {minimumFractionDigits: 0, maximumFractionDigits: 0}) }}  </td>
                    <td class="text-xs text-uppercase">  {{ getProducto.stock }} UNI  </td>
                    <td class="text-xs text-uppercase">  {{ getProducto.fecha }}  </td>
                    <td class="text-xs text-uppercase" *ngIf="getProducto.producto_ecommerce == '0'; else elseBlock2">
                      <div class="form-check form-switch">
                        <input
                          class="form-check-input"
                          type="checkbox"
                          role="switch"
                          id="flexSwitchCheckDefault"
                        >
                      </div>
                    </td>
                    <ng-template #elseBlock2>
                      <td>
                        <div class="form-check form-switch">
                        <input
                          class="form-check-input"
                          type="checkbox"
                          role="switch"
                          id="flexSwitchCheckDefaultchecked"
                          checked
                        >
                      </div>
                      </td>
                    </ng-template>
                    <td class="text-xs text-uppercase badge badge-success mt-4">  {{ getProducto.estado }}   </td>
                  </tr>
                </ng-template>
               </p-table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cerrar</button>
        <button type="button" class="btn btn-primary">Vender</button>
      </div>
    </div>
  </div>
</div>


